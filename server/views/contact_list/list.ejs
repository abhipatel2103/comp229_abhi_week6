<!DOCTYPE html>
<html lang="en">
<head>
	<%- include ../Partials/header.ejs %>

</head>

<body>

<%- include ../Partials/main_nav.ejs %>

<!-- Main Content -->
  <main class="container">
    <div class="row">
        <div class="offset-md-1 col-md-10">
            <h1>Business Contact</h1>
			
			<!--Added if condition to hide add contact button if user is not logged in-->
			<% if(typeof displayName== 'string' && displayName){%>
				<a href="contact-list/add" class="btn btn-primary" role="button">
					<i class="fas fa-plus-circle">Add a Contact</i>
				</a>
			<%}%>
            
			<br>
            <table class="table table-bordered table-striped table-hover">
                <!-- Header Row-->
                <tr class="d-flex">
					<!--Added if condition to hide edit and delete button columns if user is not logged in-->
					<% if(typeof displayName== 'string' && displayName){%>
						<th class="text-center col-3">Contact Name</th>
						<th class="text-center col-3">Contact Number</th>
						<th class="text-center col-4">Email Address</th>

						<th class="text-center col-1"></th>
						<th class="text-center col-1"></th>
					<%} else{%>
						<th class="text-center col-4">Title</th>
						<th class="text-center col-4">Author</th>
						<th class="text-center col-4">Year</th>

					<%}%>
                </tr>

                <!-- Repeatable Template Row -->

                <% for(let count = 0; count < ContactList.length; count++) { %>
                    <tr class="d-flex">
						<!--Added if condition to hide edit and delete buttons if user is not logged in-->
						<% if(typeof displayName== 'string' && displayName){%>
							<td class="text-center col-3"><%= ContactList[count].name %></td>
							<td class="text-center col-3"><%= ContactList[count].number %></td>
							<td class="text-center col-4"><%= ContactList[count].email %></td>
							
							
							
							<td class="text-center col-1">
									<a href="/contact-list/edit/<%= ContactList[count]._id %>" class="btn btn-primary btn-sm">
									<i class="fas fa-pencil-alt"></i> <br/>Edit
									</a>
								</td>
								<td class="text-center col-1">
									<a href="/contact-list/delete/<%= ContactList[count]._id %>" class="btn btn-danger btn-sm">
										<i class="fas fa-trash-alt"></i> <br>Delete
									</a>
								
							</td>
						<%} else{%>
							<td class="text-center col-4"><%= ContactList[count].name %></td>
							<td class="text-center col-4"><%= ContactList[count].number %></td>
							<td class="text-center col-4"><%= ContactList[count].email %></td>
							


						<%}%>
                    </tr>
                <% } %>
            </table>
        </div>
    </div>
  </main>








<%- include ../Partials/bottom_nav.ejs %>  

<%- include ../Partials/footer.ejs %>
	<style>
	.logo {
		position: relative;
		top: 0;
		right: 0;
		left: 0;
		z-index: 0;
		height: 40px;
		margin-right: 7px;
	}
	@media(min-width:1200px){
	main.container { height: calc(100vh - 125px); }
	}
	</style>
</body>
</html>